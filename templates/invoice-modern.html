<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Invoice {{number}}</title>
        <link
            href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap"
            rel="stylesheet"
        >
        <style>
            body {
                font-family: "Outfit", sans-serif;
                margin: 0;
                background: #fff;
                color: #1e293b;
                font-size: 14px;
                line-height: 1.5;
            }
            .container {
                max-width: 800px;
                margin: 0 auto;
                padding: 40px;
            }
            .header {
                display: flex;
                justify-content: space-between;
                margin-bottom: 40px;
            }
            .brand {
                display: flex;
                flex-direction: column;
                gap: 10px;
            }
            .logo {
                height: 60px;
                object-fit: contain;
                object-position: left;
            }
            .business-name {
                font-size: 24px;
                font-weight: 700;
                color: #0f172a;
            }
            .invoice-title {
                text-align: right;
            }
            .invoice-label {
                font-size: 32px;
                font-weight: 300;
                color: #94a3b8;
                text-transform: uppercase;
                letter-spacing: 2px;
                line-height: 1;
            }
            .invoice-number {
                font-size: 16px;
                font-weight: 600;
                color: #0f172a;
                margin-top: 5px;
            }
            .grid-2 {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                margin-bottom: 40px;
            }
            .section-label {
                font-size: 11px;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: #64748b;
                font-weight: 600;
                margin-bottom: 8px;
            }
            .address-block p {
                margin: 0;
                color: #334155;
            }
            .customer-name {
                font-weight: 600;
                font-size: 16px;
                margin-bottom: 4px;
            }
            .meta-grid {
                display: grid;
                grid-template-columns: auto auto;
                gap: 20px;
                justify-content: start;
            }
            .meta-item div:first-child {
                font-size: 11px;
                text-transform: uppercase;
                letter-spacing: 1px;
                color: #64748b;
                font-weight: 600;
            }
            .meta-item div:last-child {
                font-weight: 500;
                color: #0f172a;
            }
            table {
                width: 100%;
                border-collapse: collapse;
                margin-bottom: 30px;
            }
            th {
                text-align: left;
                padding: 12px 16px;
                background: #f8fafc;
                color: #475569;
                font-weight: 600;
                font-size: 12px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                border-bottom: 1px solid #e2e8f0;
            }
            .col-desc {
                width: 40%;
            }
            td {
                padding: 16px;
                border-bottom: 1px solid #f1f5f9;
                color: #334155;
            }
            .item-desc {
                font-weight: 500;
            }
            .text-right {
                text-align: right;
            }
            .text-center {
                text-align: center;
            }
            .totals {
                width: 300px;
                margin-left: auto;
            }
            .totals-row {
                display: flex;
                justify-content: space-between;
                padding: 8px 0;
                border-bottom: 1px solid #f1f5f9;
            }
            .totals-row.grand {
                border-top: 2px solid #0f172a;
                border-bottom: none;
                padding-top: 16px;
                margin-top: 8px;
                font-size: 18px;
                font-weight: 700;
                color: #0f172a;
            }
            .text-muted {
                color: #64748b;
            }
            .balance-due {
                font-weight: 600;
                color: #ef4444;
            }
            .notes {
                margin-top: 60px;
                padding: 20px;
                background: #f8fafc;
                border-radius: 8px;
                font-size: 13px;
                color: #475569;
            }
            .footer {
                margin-top: 40px;
                text-align: center;
                font-size: 12px;
                color: #94a3b8;
                border-top: 1px solid #f1f5f9;
                padding-top: 20px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="header">
                <div class="brand">
                    {{#if business.logo}}
                    <img src="{{business.logo}}" class="logo" alt="Business Logo" />
                    {{/if}}
                    <div class="business-name">{{business.name}}</div>
                    <div class="address-block">
                        <p>{{business.address}}</p>
                        <p>{{business.email}}</p>
                        <p>{{business.phone}}</p>
                    </div>
                </div>
                <div class="invoice-title">
                    <div class="invoice-label">Invoice</div>
                    <div class="invoice-number">#{{number}}</div>
                </div>
            </div>

            <div class="grid-2">
                <div>
                    <div class="section-label">Bill To</div>
                    <div class="address-block">
                        <p class="customer-name">
                            {{customer.name}}
                        </p>
                        <p>{{customer.address}}</p>
                    </div>
                </div>
                <div class="meta-grid">
                    <div class="meta-item">
                        <div>Issue Date</div>
                        <div>{{issueDate}}</div>
                    </div>
                    <div class="meta-item">
                        <div>Due Date</div>
                        <div>{{dueDate}}</div>
                    </div>
                    <div class="meta-item">
                        <div>Currency</div>
                        <div>{{currency}}</div>
                    </div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th class="col-desc">Description</th>
                        <th class="text-center">Qty</th>
                        <th class="text-right">Price</th>
                        <th class="text-right">Tax</th>
                        <th class="text-right">Total</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each items}}
                    <tr>
                        <td>
                            <div class="item-desc">{{description}}</div>
                        </td>
                        <td class="text-center">{{quantity}} {{unit}}</td>
                        <td class="text-right">{{unitPrice}}</td>
                        <td class="text-right">{{taxRate}}%</td>
                        <td class="text-right">{{lineTotal}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>

            <div class="totals">
                <div class="totals-row">
                    <span class="text-muted">Subtotal</span>
                    <span>{{subtotal}}</span>
                </div>
                <div class="totals-row">
                    <span class="text-muted">Tax</span>
                    <span>{{taxTotal}}</span>
                </div>
                <div class="totals-row grand">
                    <span>Total</span>
                    <span>{{grandTotal}}</span>
                </div>
                <div class="totals-row">
                    <span class="text-muted">Amount Paid</span>
                    <span>{{amountPaid}}</span>
                </div>
                <div class="totals-row balance-due">
                    <span>Balance Due</span>
                    <span>{{balanceDue}}</span>
                </div>
            </div>

            {{#if notes}}
            <div class="notes">
                <div class="section-label">Notes</div>
                {{notes}}
            </div>
            {{/if}}

            <div class="footer">
                Thank you for your business!
            </div>
        </div>
    </body>
</html>
